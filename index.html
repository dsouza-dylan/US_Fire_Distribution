<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>America On Fire: Mapping US Fire Distribution</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/3.0.2/topojson.min.js"></script>
  <link rel="stylesheet" href="styles.css"> 
</head>
<body>

<h1 id="map-title" style="display: flex; align-items: center; justify-content: space-between; flex-wrap: nowrap;">
  <span style="white-space: nowrap;">
    <span style="color: #ff6b35;">America on Fire:</span> Mapping US Fire Distribution (2024)
  </span>
  <div class="header-controls">
    <div class="center-controls">
      <div id="loading-spinner" style="
        width: 25px;
        height: 25px;
        border: 3px solid rgba(255,255,255,0.3);
        border-top: 3px solid #ff6b35;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        display: none;
      "></div>

      <div id="state-control">
        <button id="back-us" class="back-us-btn" style="display:none;">⬅ US Map</button>
      </div>
    </div>

    <div class="header-right">
      <button class="mode-toggle" id="mode-toggle" aria-label="Toggle theme">
        <span class="icon">☀️</span>
      </button>
      <button id="presentation-toggle" class="presentation-toggle-btn">▶️</button>
    </div>
  </div>
</h1>

<main>
<div id="map-wrap">
  <div class="caption">Explore the distribution of US fires in 2024 using NASA MODIS data. Click on a state to explore.<br><em>Total FRP (Fire Radiation Power) measures the sum of energy in megawatts (MW) released by fires in a month.</em></div>
  <svg id="map"></svg>
  <div class="tooltip" id="tooltip"></div>
  <div class="debug-info" id="debug-info">Debug info will appear here</div>
</div>
<div id="legend-state" class="legend">
  <div class="legend-header">
    <h3>Total FRP</h3>
    <div class="info-icon" data-tooltip="Total FRP (Fire Radiation Power) measures the sum of energy in megawatts (MW) released by fires in a month.">i</div>
  </div>
  <div class="legend-item"><span style="background:#fffaf5"></span>0</div>
  <div class="legend-item"><span style="background:#ffebd6"></span>0 – 1,000</div>
  <div class="legend-item"><span style="background:#ffc999"></span>1,000 – 10,000</div>
  <div class="legend-item"><span style="background:#ff9c52"></span>10,000 – 100,000</div>
  <div class="legend-item"><span style="background:#f97316"></span>100,000 – 500,000</div>
  <div class="legend-item"><span style="background:#b54700"></span>500,000+</div>
</div>
<div id="legend-county" class="legend" style="display:none;">
  <div class="legend-header">
    <h3>Total FRP</h3>
    <div class="info-icon" data-tooltip="Total FRP (Fire Radiation Power) measures the sum of energy in megawatts (MW) released by fires in a month.">i</div>
  </div>
  <div class="legend-item"><span style="background:#fffaf5"></span>0</div>
  <div class="legend-item"><span style="background:#ffebd6"></span>1 – 5</div>
  <div class="legend-item"><span style="background:#ffc999"></span>6 – 25</div>
  <div class="legend-item"><span style="background:#ff9c52"></span>26 – 100</div>
  <div class="legend-item"><span style="background:#f97316"></span>101 – 500</div>
  <div class="legend-item"><span style="background:#b54700"></span>500+</div>
</div>
<section id="map-description" style="max-width:900px; padding-bottom: 100px; margin:40px auto; font-size:1rem; line-height:1.6; color:#ececec;">

  </section>
</main>

<footer>
  <div class="bottom-navbar">
    <div class="slider-wrap">
      <label for="month-range-bottom" style="font-size:1rem; font-weight:700;">Month:</label>
      <input id="month-range-bottom" type="range" min="1" max="12" step="1" value="10">
      <div id="month-label-bottom" style="min-width:46px; text-align:left; font-weight:600;">Oct</div>
    </div>
  </div>
</footer>

<script src="main.js"></script>
<script src="presentation.js"></script>

</body>
</html>